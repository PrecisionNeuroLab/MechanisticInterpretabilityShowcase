<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mechanistic Interpretability Showcase</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.plot.ly/plotly-3.3.0.min.js" charset="utf-8"></script>
</head>
<body>
<header>
    <nav class="navbar">
        <div class="container">
            <h1 class="logo">Precision Neurotherapeutics Lab</h1>
        </div>
    </nav>
</header>

<main>
    <section id="demos" class="demos-section">
        <div class="container">
            <h2 class="section-title">Selected Mechanistic Interpretability Tool Showcase</h2>
            <p class="section-description">
                Explore our interactive data visualization to see mechanistic interpretability in action. All residual
                stream activations retrieved from google/gemma-2-2b.
            </p>

            <div class="research-card">
                <h3>Vector Distances Between Emotions</h3>
                <p>Input Layer. Original embeddings.</p>
                <div id="0f80a5c5-f246-4e76-90a3-6518e5ee6eb2" class="plotly-graph-div"
                     style="height:100%; width:100%;"></div>
                <script type="text/javascript">
                    window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("0f80a5c5-f246-4e76-90a3-6518e5ee6eb2")) {                    Plotly.newPlot(                        "0f80a5c5-f246-4e76-90a3-6518e5ee6eb2",                        [{"coloraxis":"coloraxis","name":"0","texttemplate":"%{z}","x":["happy","elated","peaceful","calm","content","relaxed","sad","anxious","fearful","scared","depressed","lonely","bitter","jealous","angry","guilty","passionate","brave","confident"],"y":["happy","elated","peaceful","calm","content","relaxed","sad","anxious","fearful","scared","depressed","lonely","bitter","jealous","angry","guilty","passionate","brave","confident"],"z":[[null,2.922785758972168,2.1715176105499268,2.1030538082122803,2.190687894821167,2.109285354614258,2.0164406299591064,2.6545960903167725,2.744584321975708,2.1226043701171875,2.714607000350952,2.1073460578918457,2.2111992835998535,2.7698893547058105,1.8836708068847656,2.254176378250122,2.6292803287506104,2.1319894790649414,2.0346643924713135],[2.922785758972168,null,3.291893720626831,3.0689382553100586,2.8085265159606934,3.144939661026001,2.8890933990478516,2.944986581802368,3.3822453022003174,3.2189292907714844,3.242658853530884,3.1563985347747803,3.2870731353759766,3.2143516540527344,3.0143258571624756,3.341740131378174,2.881408929824829,3.117797613143921,3.0504841804504395],[2.1715176105499268,3.291893720626831,null,1.8538960218429565,2.5442593097686768,1.9367337226867676,2.269886016845703,2.9303009510040283,2.8519153594970703,2.058788537979126,2.8934290409088135,2.087965250015259,2.143892765045166,2.9725663661956787,2.0214931964874268,2.1675517559051514,2.793980121612549,2.123033285140991,2.0990593433380127],[2.1030538082122803,3.0689382553100586,1.8538960218429565,null,2.309659242630005,1.8991672992706299,2.114664077758789,2.7262940406799316,2.7584495544433594,2.095673084259033,2.781320571899414,2.098707675933838,2.14228892326355,2.852358102798462,1.9752540588378906,2.212848663330078,2.6353249549865723,2.0732014179229736,2.019761800765991],[2.190687894821167,2.8085265159606934,2.5442593097686768,2.309659242630005,null,2.393984794616699,2.2615222930908203,2.7482285499572754,2.895418882369995,2.5075132846832275,2.8762638568878174,2.434088706970215,2.5075063705444336,2.8548741340637207,2.3098390102386475,2.5905661582946777,2.733661651611328,2.4323620796203613,2.3105812072753906],[2.109285354614258,3.144939661026001,1.9367337226867676,1.8991672992706299,2.393984794616699,null,2.2156524658203125,2.823286771774292,2.8450536727905273,2.1414239406585693,2.826615333557129,2.1069796085357666,2.193436622619629,2.865583658218384,2.074578046798706,2.211888313293457,2.7117063999176025,2.1442344188690186,1.998839259147644],[2.0164406299591064,2.8890933990478516,2.269886016845703,2.114664077758789,2.2615222930908203,2.2156524658203125,null,2.6925294399261475,2.758521318435669,2.1288342475891113,2.6761715412139893,2.095597743988037,2.219156503677368,2.7892093658447266,2.012683629989624,2.2977588176727295,2.6710572242736816,2.2006943225860596,2.171987295150757],[2.6545960903167725,2.944986581802368,2.9303009510040283,2.7262940406799316,2.7482285499572754,2.823286771774292,2.6925294399261475,null,3.009636878967285,2.8115320205688477,3.0873639583587646,2.7955944538116455,2.906667709350586,3.0690903663635254,2.6603074073791504,2.9589836597442627,3.0465898513793945,2.820909261703491,2.712186336517334],[2.744584321975708,3.3822453022003174,2.8519153594970703,2.7584495544433594,2.895418882369995,2.8450536727905273,2.758521318435669,3.009636878967285,null,2.6132278442382812,3.205214023590088,2.822482109069824,2.8801722526550293,3.2778875827789307,2.7335057258605957,2.934494972229004,3.0921146869659424,2.8352386951446533,2.7257659435272217],[2.1226043701171875,3.2189292907714844,2.058788537979126,2.095673084259033,2.5075132846832275,2.1414239406585693,2.1288342475891113,2.8115320205688477,2.6132278442382812,null,2.8436360359191895,2.061490297317505,2.1682231426239014,2.8515000343322754,1.9128150939941406,2.1309690475463867,2.7585153579711914,2.046260118484497,2.0620739459991455],[2.714607000350952,3.242658853530884,2.8934290409088135,2.781320571899414,2.8762638568878174,2.826615333557129,2.6761715412139893,3.0873639583587646,3.205214023590088,2.8436360359191895,null,2.7873191833496094,2.9263241291046143,3.2203338146209717,2.7276740074157715,2.954568862915039,3.151263475418091,2.864332675933838,2.7866363525390625],[2.1073460578918457,3.1563985347747803,2.087965250015259,2.098707675933838,2.434088706970215,2.1069796085357666,2.095597743988037,2.7955944538116455,2.822482109069824,2.061490297317505,2.7873191833496094,null,2.1427114009857178,2.8682034015655518,1.95352041721344,2.1756680011749268,2.733215570449829,2.083543062210083,2.117109775543213],[2.2111992835998535,3.2870731353759766,2.143892765045166,2.14228892326355,2.5075063705444336,2.193436622619629,2.219156503677368,2.906667709350586,2.8801722526550293,2.1682231426239014,2.9263241291046143,2.1427114009857178,null,2.9162285327911377,1.9794176816940308,2.2217373847961426,2.769282579421997,2.164991617202759,2.1928999423980713],[2.7698893547058105,3.2143516540527344,2.9725663661956787,2.852358102798462,2.8548741340637207,2.865583658218384,2.7892093658447266,3.0690903663635254,3.2778875827789307,2.8515000343322754,3.2203338146209717,2.8682034015655518,2.9162285327911377,null,2.73994779586792,2.945770025253296,3.0586111545562744,2.858949661254883,2.8049142360687256],[1.8836708068847656,3.0143258571624756,2.0214931964874268,1.9752540588378906,2.3098390102386475,2.074578046798706,2.012683629989624,2.6603074073791504,2.7335057258605957,1.9128150939941406,2.7276740074157715,1.95352041721344,1.9794176816940308,2.73994779586792,null,2.069660186767578,2.5659282207489014,1.9801998138427734,1.969745397567749],[2.254176378250122,3.341740131378174,2.1675517559051514,2.212848663330078,2.5905661582946777,2.211888313293457,2.2977588176727295,2.9589836597442627,2.934494972229004,2.1309690475463867,2.954568862915039,2.1756680011749268,2.2217373847961426,2.945770025253296,2.069660186767578,null,2.8417129516601562,2.20721697807312,2.2206974029541016],[2.6292803287506104,2.881408929824829,2.793980121612549,2.6353249549865723,2.733661651611328,2.7117063999176025,2.6710572242736816,3.0465898513793945,3.0921146869659424,2.7585153579711914,3.151263475418091,2.733215570449829,2.769282579421997,3.0586111545562744,2.5659282207489014,2.8417129516601562,null,2.6910696029663086,2.615077495574951],[2.1319894790649414,3.117797613143921,2.123033285140991,2.0732014179229736,2.4323620796203613,2.1442344188690186,2.2006943225860596,2.820909261703491,2.8352386951446533,2.046260118484497,2.864332675933838,2.083543062210083,2.164991617202759,2.858949661254883,1.9801998138427734,2.20721697807312,2.6910696029663086,null,2.026125431060791],[2.0346643924713135,3.0504841804504395,2.0990593433380127,2.019761800765991,2.3105812072753906,1.998839259147644,2.171987295150757,2.712186336517334,2.7257659435272217,2.0620739459991455,2.7866363525390625,2.117109775543213,2.1928999423980713,2.8049142360687256,1.969745397567749,2.2206974029541016,2.615077495574951,2.026125431060791,null]],"type":"heatmap","xaxis":"x","yaxis":"y","hovertemplate":"x: %{x}\u003cbr\u003ey: %{y}\u003cbr\u003eEuclidean Distance: %{z}\u003cextra\u003e\u003c\u002fextra\u003e"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"bgcolor":"rgb(17,17,17)","angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"ternary":{"bgcolor":"rgb(17,17,17)","aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","subunitcolor":"#506784","showland":true,"showlakes":true,"lakecolor":"rgb(17,17,17)"},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"sliderdefaults":{"bgcolor":"#C8D4E3","borderwidth":1,"bordercolor":"rgb(17,17,17)","tickwidth":0},"mapbox":{"style":"dark"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"autorange":"reversed"},"coloraxis":{"colorbar":{"title":{"text":"Euclidean Distance"}},"colorscale":[[0.0,"rgb(103,0,31)"],[0.1,"rgb(178,24,43)"],[0.2,"rgb(214,96,77)"],[0.3,"rgb(244,165,130)"],[0.4,"rgb(253,219,199)"],[0.5,"rgb(247,247,247)"],[0.6,"rgb(209,229,240)"],[0.7,"rgb(146,197,222)"],[0.8,"rgb(67,147,195)"],[0.9,"rgb(33,102,172)"],[1.0,"rgb(5,48,97)"]]},"title":{"text":"Euclidean Distance between Emotions"}},                        {"responsive": true}                    )                };
                </script>
            </div>

            <div class="research-card">
                <h3>Vector Distances relative to the Centroid of Residual Stream</h3>
                <p>Last Layer. Output embeddings. Bucketed.</p>
                <img src="neighbors.png" style="height:100%; width:100%;"></div>

            <a href="/MechanisticInterpretabilityShowcase/26.normalized_semantic_cloud.html" class="card-link" target="_blank">
                <div class="research-card">
                    <h3>Word Cloud Visualization</h3>
                    <p>Interactive Visualization too large.
                        Click to interact in a new tab.</p>
                    <img src="cloud_2d.png" style="height:100%; width:100%;">
                    <img src="cloud_3d.png" style="height:100%; width:100%;">
                </div>
            </a>

            <a href="/MechanisticInterpretabilityShowcase/35.energy_distances_symptom_nl.html" class="card-link" target="_blank">
                <div class="research-card">
                    <h3>Energy Distances</h3>
                    <p>Measuring Energy Distances between Residual Streams where p < 0.05. Click to inspect in a new
                        tab.</p>
                    <img src="energy_1.png" style="height:100%; width:100%;">
                    <img src="energy_2.png" style="height:100%; width:100%;">
                </div>
            </a>
        </div>
    </section>

    <section id="about" class="about-section">
        <div class="container">
            <h2 class="section-title">About</h2>
            <p class="about-text">
                This showcase presents tools developed by Fangyi Zhu and Ajay Subramanian at the Stanford Precision
                Neurotherapeutics Lab during our ongoing research on the mechanistic interpretability of LLM depression
                representations.
            </p>
        </div>
    </section>
</main>

</body>
</html>
